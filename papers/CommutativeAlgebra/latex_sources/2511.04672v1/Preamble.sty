\ProvidesPackage{Preamble}

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Packages  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

\usepackage{amsmath}
\usepackage{amsfonts}
\usepackage{amsthm}
\usepackage{amssymb}
\usepackage{mathtools}
\usepackage{mathrsfs}
\usepackage{microtype}   %% Package to remove ligatures
\DisableLigatures[f]{encoding = *, family = * }   %% Disables ligatures
\usepackage[dvipsnames]{xcolor}   %% For colours
\usepackage[colorlinks]{hyperref}   %% For clickable references
\hypersetup{
	linkcolor = MidnightBlue, citecolor = ForestGreen   %% Reference colours
}

%% Annotation Package
\usepackage{pdfcomment}

%% To Do Packages
\usepackage[colorinlistoftodos]{todonotes}   %% Allows us to create "todo" notes.
\usepackage{xargs}   %% Allows commands with many optional parameters.

%% Diagram Packages
\usepackage[subpreambles=true]{standalone}
\usepackage{tikz}
\usetikzlibrary{calc}
\usepackage{pgfplots}
\usepackage{import}
\pgfplotsset{compat=1.18}  %% Added for backward compatibility of pgfplots
\usepackage{graphicx}

%% Author Information
\usepackage[capitalise]{cleveref}
\usepackage{authblk}
\renewcommand\Authfont{\small}
\renewcommand\Affilfont{\itshape\footnotesize}

% changes all \hat's to witch's hats
%\usepackage[witch]{realhats}
%\renewcommand\widehat{\hat}

% used for nice layout of appendices and to include it in ToC
\usepackage{appendix}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%  Macros  %%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%



%% Notation
\newcommand{\dx}[1]{\; \mathrm{d} #1}
\newcommand{\sd}{\: : \:}
\newcommand{\ee}{\mathbf{e}}
\newcommand{\eps}{\varepsilon}
\newcommand{\mm}{\mathbf{m}}
\newcommand{\nn}{\mathbf{n}}
\newcommand{\pp}{\mathbf{p}}
\newcommand{\xx}{\mathbf{x}}

%% Distance function
\newcommand{\cof}{\mathrm{cof}}
\newcommand{\dif}{\mathrm{div}}
\newcommand{\curl}{\mathrm{curl}}
\newcommand{\tr}{\mathrm{tr}}
\newcommand{\id}{\mathrm{id}}

%% Colors for comments
\newcommand{\ds}[1]{{\color{blue}#1}}
\newcommand{\dsc}[1]{\colorbox{cyan!30!white}{#1}}
\newcommand{\ac}[1]{{\color{red}#1}}
\newcommand{\acc}[1]{\colorbox{magenta!30!white}{#1}}
\newcommand{\lb}[1]{{\color{purple!70!blue}#1}}
\newcommand{\lbc}[1]{\colorbox{purple!70!blue!30!white}{#1}}
\newcommand{\lvb}[1]{{\color{green}#1}}
\newcommand{\lvbc}[1]{{\color{green!70!blue}#1}}
%% To Do Commands
%% Dominik
\newcommandx{\dst}[2][1=]{\todo[linecolor=cyan!30!white,backgroundcolor=cyan!30!white,bordercolor=black,#1]{#2}}

\newcommandx{\dstt}[2][1=]{{%
 \let\marginpar\marginnote
 \reversemarginpar
 \renewcommand{\baselinestretch}{0.8}%
\todo[linecolor=cyan!30!white,backgroundcolor=cyan!30!white,bordercolor=black,#1]{#2}}}
%% Andrew
\newcommandx{\act}[2][1=]{\todo[linecolor=red!30!,backgroundcolor=red!30!,bordercolor=black,#1]{#2}}

\newcommandx{\actt}[2][1=]{{%
 \let\marginpar\marginnote
 \reversemarginpar
 \renewcommand{\baselinestretch}{0.8}%
\todo[linecolor=red!30!,backgroundcolor=red!30!,bordercolor=black,#1]{#2}}}
%% Prof. Bronsard
\newcommandx{\lbt}[2][1=]
{\todo[linecolor=purple!70!blue!30!white,backgroundcolor=purple!70!blue!30!white,bordercolor=black,#1]{#2}}

\newcommandx{\lbtt}[2][1=]{{%
 \let\marginpar\marginnote
 \reversemarginpar
 \renewcommand{\baselinestretch}{0.8}%
\todo[linecolor=purple!70!blue!30!white,backgroundcolor=purple!70!blue!30!white,bordercolor=black,#1]{#2}}}
